{"version":3,"sources":["app.js","index.js"],"names":["express","require","html","app","get","req","res","set","status","send","module","exports","_express","_interopRequireWildcard","_bodyParser","_interopRequireDefault","_cors","_http","_formidable","_fs","_multer","_stream","_path","_etag","_https","_url","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","port","corsOptions","origin","credentials","optionSuccessStatus","use","cors","bodyParser","urlencoded","extended","json","post","next","_req$body","console","log","body","menu","menuJson","JSON","stringify","writeFile","encoding","flag","mode","err","redirect","readFile","data","writeHead","write","end","listen"],"mappings":"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","file":"index.js","sourceRoot":"../src","sourcesContent":["const express = require('express');\r\n\r\nconst html = `<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n  <title>A JavaScript project</title>\r\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n</head>\r\n<body>\r\n  <h1>A JavaScript project</h1>\r\n</body>\r\n</html>`;\r\n\r\nconst app = express();\r\n\r\napp.get('/', (req, res) => {\r\n  res.set('Content-Type', 'text/html');\r\n  res.status(200).send(html);\r\n});\r\n\r\nmodule.exports = app;","const app = require('./app');\r\n\r\nimport express, { json } from 'express';\r\nimport bodyParser from 'body-parser';\r\n// const { urlencoded } = pkg;\r\nimport cors from 'cors';\r\nimport http from 'http';\r\nimport formidable from 'formidable';\r\nimport { readFileSync, readFile, writeFile, appendFile } from 'fs';\r\nimport multer, { diskStorage } from \"multer\";\r\nimport stream from 'stream';\r\nimport path from \"path\";\r\nimport etag from 'etag';\r\n//\r\nimport { dirname } from 'path';\r\nimport {createServer} from \"https\"\r\nimport {fileURLToPath} from 'url';\r\n// const app = express();\r\n\r\nconst port = '8080';\r\nvar corsOptions = {\r\n  origin: \"http://localhost:3000\",\r\n  credentials: true,            //access-control-allow-credentials:true\r\n  optionSuccessStatus:200,\r\n};\r\n\r\napp.use(cors(corsOptions));\r\n\r\n// app.use((req, res, next) => {\r\n//   res.header('Access-Control-Allow-Origin', '*');\r\n//   next();\r\n// });\r\n// app.use(function(req, res, next) {\r\n//   res.header(\"Access-Control-Allow-Headers\", \"Origin , Content-Type, application/json\");\r\n//   next();\r\n// });\r\napp.use(bodyParser.urlencoded({ extended: false }));\r\napp.use(bodyParser.json())\r\n// app.use(cors())\r\n// app.use(function(req, res, next) {\r\n//   res.header(\"Access-Control-Allow-Origin\", \"localhost:3000/rayyanisalm/\"); // update to match the domain you will make the request from\r\n//   res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\r\n//   next();\r\n// });\r\n\r\n\r\napp.post(\"/storedMenu/\", function(req, res, next) {\r\n\r\n   console.log(req.body?.menu, \"ZXCVBNM\");\r\n\r\n  \r\n  \r\n  const menuJson =  JSON.stringify(req.body.menu)\r\n  \r\n  \r\n  \r\n   writeFile(\"menu.json\", menuJson,   {\r\n     encoding: \"utf8\",\r\n     flag: \"w\",\r\n     mode: 0o666\r\n   }  , function(err) {\r\n     if(err) {\r\n         return console.log(err, \"error writing to storedMenu.json\");\r\n     }\r\n     console.log(\"The storedMenu file was saved!\");\r\n  });\r\n \r\n  \r\n  \r\n      res.redirect(\"/\")\r\n    });\r\n    app.get(\"/loadMenu\", function(req, res, next) {\r\n      console.log(\"get\");\r\n    readFile('menu.json', function(err, data) {\r\n        res.writeHead(200, {'Content-Type': 'json'});\r\n        res.write(data);\r\n        return res.end();\r\n      });\r\n    })\r\n    \r\n  app.get(\"/hello\", function(req, res, next) {\r\n    console.log(\"hello ok\");\r\n  })\r\n\r\n\r\napp.listen(port, () => {\r\n  console.log(`Server is listening on port ${port}...`);\r\n});"]}